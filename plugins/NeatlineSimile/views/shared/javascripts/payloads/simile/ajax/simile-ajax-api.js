if(typeof SimileAjax=="undefined"){var SimileAjax={loaded:false,loadingScriptsCount:0,error:null,params:{bundle:"true"}};SimileAjax.Platform=new Object();var getHead=function(a){return a.getElementsByTagName("head")[0]};SimileAjax.findScript=function(g,c){var f=g.documentElement.getElementsByTagName("head");for(var d=0;d<f.length;d++){var e=f[d].firstChild;while(e!=null){if(e.nodeType==1&&e.tagName.toLowerCase()=="script"){var a=e.src;var b=a.indexOf(c);if(b>=0){return a}}e=e.nextSibling}}return null};SimileAjax.includeJavascriptFile=function(g,c,a,h){a=a||"";if(g.body==null){try{var d="'"+a.replace(/'/g,"&apos")+"'";g.write("<script src='"+c+"' onerror="+d+(h?" charset='"+h+"'":"")+" type='text/javascript'>"+a+"<\/script>");return}catch(f){}}var b=g.createElement("script");if(a){try{b.innerHTML=a}catch(f){}b.setAttribute("onerror",a)}if(h){b.setAttribute("charset",h)}b.type="text/javascript";b.language="JavaScript";b.src=c;return getHead(g).appendChild(b)};SimileAjax.includeJavascriptFiles=function(d,a,c){for(var b=0;b<c.length;b++){SimileAjax.includeJavascriptFile(d,a+c[b])}SimileAjax.loadingScriptsCount+=c.length;SimileAjax.includeJavascriptFile(d,SimileAjax.urlPrefix+"scripts/signal.js?"+c.length)};SimileAjax.includeCssFile=function(d,a){if(d.body==null){try{d.write("<link rel='stylesheet' href='"+a+"' type='text/css'/>");return}catch(c){}}var b=d.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href",a);getHead(d).appendChild(b)};SimileAjax.includeCssFiles=function(d,a,c){for(var b=0;b<c.length;b++){SimileAjax.includeCssFile(d,a+c[b])}};SimileAjax.prefixURLs=function(d,a,b){for(var c=0;c<b.length;c++){d.push(a+b[c])}};SimileAjax.parseURLParameters=function(d,n,k){n=n||{};k=k||{};if(typeof d=="undefined"){d=location.href}var c=d.indexOf("?");if(c<0){return n}d=(d+"#").slice(c+1,d.indexOf("#"));var g=d.split("&"),f,m={};var a=window.decodeURIComponent||unescape;for(var j=0;f=g[j];j++){var o=f.indexOf("=");var b=a(f.slice(0,o));var e=m[b];if(typeof e=="undefined"){e=[]}else{if(!(e instanceof Array)){e=[e]}}m[b]=e.concat(a(f.slice(o+1)))}for(var j in m){if(!m.hasOwnProperty(j)){continue}var l=k[j]||String;var h=m[j];if(!(h instanceof Array)){h=[h]}if(l===Boolean&&h[0]=="false"){n[j]=false}else{n[j]=l.apply(this,h)}}return n};(function(){var c=["jquery-1.2.6.min.js","platform.js","debug.js","xmlhttp.js","json.js","dom.js","graphics.js","date-time.js","string.js","html.js","data-structure.js","units.js","ajax.js","history.js","window-manager.js"];var a=["graphics.css"];if(typeof SimileAjax_urlPrefix=="string"){SimileAjax.urlPrefix=SimileAjax_urlPrefix}else{var b=SimileAjax.findScript(document,"simile-ajax-api.js");if(b==null){SimileAjax.error=new Error("Failed to derive URL prefix for Simile Ajax API code files");return}SimileAjax.urlPrefix=b.substr(0,b.indexOf("simile-ajax-api.js"))}SimileAjax.parseURLParameters(b,SimileAjax.params,{bundle:Boolean});if(SimileAjax.params.bundle){SimileAjax.includeJavascriptFiles(document,SimileAjax.urlPrefix,["simile-ajax-bundle.js"])}else{SimileAjax.includeJavascriptFiles(document,SimileAjax.urlPrefix+"scripts/",c)}SimileAjax.includeCssFiles(document,SimileAjax.urlPrefix+"styles/",a);SimileAjax.loaded=true})()};