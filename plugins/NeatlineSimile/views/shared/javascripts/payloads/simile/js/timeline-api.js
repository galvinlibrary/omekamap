(function(){var h=false;if(document.location.search.length>0){var g=document.location.search.substr(1).split("&");for(var c=0;c<g.length;c++){if(g[c]=="timeline-use-local-resources"){h=true}}}var f=function(){if("Timeline" in window){return}window.Timeline=new Object();window.Timeline.DateTime=window.SimileAjax.DateTime;var v=false;var s=["timeline.js","band.js","themes.js","ethers.js","ether-painters.js","event-utils.js","labellers.js","sources.js","original-painter.js","detailed-painter.js","overview-painter.js","compact-painter.js","decorators.js","units.js"];var o=["timeline.css","ethers.css","events.css"];var q=["timeline.js","labellers.js"];var x=[];var u=["cs","de","en","es","fr","it","nl","ru","se","tr","vi","zh"];try{var k=["en"],j="en",C=null;var m=function(e){var E=e.split("&");for(var l=0;l<E.length;l++){var D=E[l].split("=");if(D[0]=="locales"){k=k.concat(D[1].split(","))}else{if(D[0]=="defaultLocale"){j=D[1]}else{if(D[0]=="forceLocale"){C=D[1];k=k.concat(D[1].split(","))}else{if(D[0]=="bundle"){v=D[1]!="false"}}}}}};(function(){if(typeof Timeline_urlPrefix=="string"){Timeline.urlPrefix=Timeline_urlPrefix;if(typeof Timeline_parameters=="string"){m(Timeline_parameters)}}else{var G=document.documentElement.getElementsByTagName("head");for(var F=0;F<G.length;F++){var e=G[F].getElementsByTagName("script");for(var E=0;E<e.length;E++){var l=e[E].src;var D=l.indexOf("timeline-api.js");if(D>=0){Timeline.urlPrefix=l.substr(0,D);var H=l.indexOf("?");if(H>0){m(l.substr(H+1))}return}}}throw new Error("Failed to derive URL prefix for Timeline API code files")}})();var i=function(e,l){SimileAjax.includeJavascriptFiles(document,e,l)};var B=function(e,l){SimileAjax.includeCssFiles(document,e,l)};if(v){i(Timeline.urlPrefix,["timeline-bundle.js"]);B(Timeline.urlPrefix,["timeline-bundle.css"])}else{i(Timeline.urlPrefix+"scripts/",s);B(Timeline.urlPrefix+"styles/",o)}var r=[];r[j]=true;var p=function(e){for(var D=0;D<u.length;D++){if(e==u[D]){r[e]=true;return true}}return false};var w=function(e){if(p(e)){return e}var l=e.indexOf("-");if(l>0&&p(e.substr(0,l))){return e.substr(0,l)}return null};for(var y=0;y<k.length;y++){w(k[y])}var n=j;var t=("language" in navigator?navigator.language:navigator.browserLanguage).split(";");for(var y=0;y<t.length;y++){var z=w(t[y]);if(z!=null){n=z;break}}for(var y=0;y<u.length;y++){var z=u[y];if(r[z]){i(Timeline.urlPrefix+"scripts/l10n/"+z+"/",q);B(Timeline.urlPrefix+"styles/l10n/"+z+"/",x)}}if(C==null){Timeline.serverLocale=j;Timeline.clientLocale=n}else{Timeline.serverLocale=C;Timeline.clientLocale=C}}catch(A){alert(A)}};if(typeof SimileAjax=="undefined"){window.SimileAjax_onLoad=f;var b=h?"http://127.0.0.1:9999/ajax/api/simile-ajax-api.js?bundle=false":"http://static.simile.mit.edu/ajax/api-2.2.0/simile-ajax-api.js";if(typeof Timeline_ajax_url=="string"){b=Timeline_ajax_url}var a=function(){var e=document.createElement("script");e.type="text/javascript";e.language="JavaScript";e.src=b;document.getElementsByTagName("head")[0].appendChild(e)};if(document.body==null){try{document.write("<script src='"+b+"' type='text/javascript'><\/script>")}catch(d){a()}}else{a()}}else{f()}})();